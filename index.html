<html>

<head>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <section id="fristSection">
        <button onclick="myFunction('dog')" class="idk">Cane</button>
        <button onclick="myFunction(cat)" class="idk">Gatto</button>
    </section>
    <section>

        <section id="secondSection" class="hidden">

            <body>
                <input type="button" class="buttons" onclick="currentAudio.play()" value="Suono,Pronuncia">
                <input type="button" class="buttons" onclick="bManager.activate(fristSection)" value="Torna indietro">

            </body>


        </section>
        <script>

            var glossary = {
                dog: { trad: "cane", audio: new Audio("./assets/sounds/dog.wav"), img: "./assets/images/dog.jpeg" },
                cat: { trad: "gatto", audio: new Audio("./assets/sounds/cat.wav"), img: "./assets/images/cat.jpg" },
            }
            
            class BoxManager {
                constructor() {
                    this.boxes = [];
                }

                register(box) {
                    this.boxes.push(box);
                }

                activate(box) {
                    if (document.getElementById("img") == null) {
                        this.boxes.forEach(b => this._hide(b));
                        this._show(box);
                    } else {
                        console.log("removing")
                        document.getElementById('img').remove()
                        this.boxes.forEach(b => this._hide(b));
                        this._show(box);
                    }
                }

                _show(box) {
                    box.classList.remove("hidden");
                }
                _hide(box) {
                    box.classList.add("hidden");
                }
                _request(request) {
                }
            }

            let currentAudio;

            let bManager = new BoxManager;

            let section1 = document.getElementById('fristSection');
            let section2 = document.getElementById('secondSection');

            bManager.register(section1);
            bManager.register(section2);


            function myFunction(word) { 
                currentAudio = glossary.word.audio;
                section2.insertAdjacentElement("<img src='" + glossary.word.img + "'>", "beforeend")
            }
            console.log(myFunction(dog))
        </script>
</body>


</html>